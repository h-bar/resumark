{"version":3,"sources":["resumark.js","App.js","index.js"],"names":["compile","content","template","head","sections","split","map","section","trim","rendered","css_link","forEach","sectionName","substr","indexOf","text","identifier","delimiter","lines","line","tokenized","token","Error","push","parse","initTemplate","config","dir","a","fetch","name","Handlebars","registerHelper","SafeString","marked","App","state","componentDidMount","templatesConfig","DevResume","resp","setState","setContent","console","log","render","className","style","height","theme","onChange","value","editorProps","$blockScrolling","fontSize","showPrintMargin","highlightActiveLine","wrapEnabled","setOptions","showLineNumbers","tabSize","width","frameBorder","srcDoc","title","React","Component","ReactDOM","StrictMode","document","getElementById"],"mappings":"+bAgCO,SAASA,EAAQC,EAASC,GAC7B,IAAKA,EAASC,KAAM,MAAO,GAE3B,IAEIC,EAAWH,EAAQI,MAFN,OAEwBC,KAAI,SAACC,GAAD,OAAaA,EAAQC,UAE9DC,EAAWP,EAASC,KAAK,CAC3BO,SAAU,CAA0B,wCAmBtC,OAhBAD,GAAY,8BAEZL,EAASO,SAAQ,SAACJ,GAChB,IAAIK,EAAcL,EAAQM,OAAO,EAAGN,EAAQO,QAV9B,OAWd,GAAoB,KAAhBF,EAAJ,CAEA,IAAIX,EAAUM,EAAQM,OAAON,EAAQO,QAbvB,MAa0C,GAAGN,OAC3DP,EAzCN,SAAec,EAAMC,EAAYC,GAE7B,IAAIC,GADJH,EAAO,KAAOA,GACGV,MAAMW,GAAYV,KAAI,SAACa,GAAD,OAAUA,EAAKX,UAElDY,EAAY,GAgBhB,OAfAF,EAAMP,SAAQ,SAACQ,GACb,IAAIE,EAAQF,EAAKN,OAAO,EAAGM,EAAKL,QAAQG,IACxC,GAAc,QAAVI,EACF,MAAM,IAAIC,MAAM,+DAElB,GAAID,IAAUJ,EACZ,MAAM,IAAIK,MAAM,SAAWL,EAAY,0CAEzC,IAAIhB,EAAUkB,EAAKN,OAAOM,EAAKL,QAAQG,GAAW,GAAGT,OAC/Ca,KAASD,IACbA,EAAUC,GAAS,IAErBD,EAAUC,GAAOE,KAAKtB,MAGjBmB,EAqBKI,CAAMvB,EAAS,MAAO,KAE5BW,KAAeV,IAAUO,GAAYP,EAASU,GAAaX,QAIjEQ,GAAY,SAMT,SAAegB,EAAtB,oC,4CAAO,WAA4BC,EAAQC,GAApC,mBAAAC,EAAA,sDACC1B,EAAW,GADZ,OAAA0B,EAAA,KAEiBF,EAAOtB,UAFxB,qDAEMG,EAFN,oBAG4BsB,MAAMF,EAAMD,EAAOI,KAAO,IAAMJ,EAAOtB,SAASG,IAH5E,8BAGuFQ,OAHvF,OAGKd,EAHL,OAICC,EAASK,GAAWwB,IAAW/B,QAAQC,GAJxC,gDAOIC,GAPJ,6C,sBAzDP6B,IAAWC,eAAe,YAAY,SAASjB,GAC7C,OAAO,IAAIgB,IAAWE,WAAWC,IAAOnB,O,qBC4D3BoB,G,kNAtDbC,MAAQ,CACNnC,QAAS,GACTC,SAAU,I,EAGZmC,kB,sBAAoB,oCAAAT,EAAA,6DACZF,EAASY,EAAgBC,UACzBZ,EAA+B,cAFnB,SAIDE,MAAMF,EAAMD,EAAOI,KAAO,gBAJzB,cAIdU,EAJc,gBAKEA,EAAKzB,OALP,cAKdd,EALc,iBAMGwB,EAAaC,EAAQC,GANxB,QAMdzB,EANc,OAQlB,EAAKuC,SAAS,CACZxC,QAASA,EACTC,SAAUA,IAVM,4C,EAcpBwC,WAAa,SAACzC,GACZ0C,QAAQC,IAAI3C,GACZ,EAAKwC,SAAS,CACZxC,QAASA,K,EAIb4C,OAAS,WACP,OACE,qBAAKC,UAAU,kBAAf,SACE,sBAAKA,UAAU,SAASC,MAAO,CAACC,OAAQ,SAAxC,UACE,qBAAKF,UAAU,YAAf,SACE,cAAC,IAAD,CACEG,MAAM,SACNH,UAAU,cACVI,SAAU,EAAKR,WACfS,MAAO,EAAKf,MAAMnC,QAClBmD,YAAa,CAAEC,iBAAiB,GAChCC,SAAU,GACVC,iBAAiB,EACjBC,qBAAqB,EACrBC,aAAa,EACbC,WAAY,CACVC,iBAAiB,EACjBC,QAAS,OAIf,wBAAQd,UAAU,QAAQC,MAAO,CAACc,MAAO,SAAUC,YAAa,EAAGC,OAAQ/D,EAAQ,EAAKoC,MAAMnC,QAAS,EAAKmC,MAAMlC,UAAW8D,MAAM,kB,YAhD3HC,IAAMC,YCPxBC,IAAStB,OACP,cAAC,IAAMuB,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.e9769b76.chunk.js","sourcesContent":["/*jshint esversion: 6 */\nimport Handlebars from 'handlebars';\nimport marked from \"marked\";\n\n\nHandlebars.registerHelper(\"markdown\", function(text) {\n  return new Handlebars.SafeString(marked(text));\n});\n\nfunction parse(text, identifier, delimiter) {\n    text = '\\n' + text;\n    var lines = text.split(identifier).map((line) => line.trim());\n  \n    var tokenized = {};\n    lines.forEach((line) => {\n      var token = line.substr(0, line.indexOf(delimiter));\n      if (token === '###') {\n        throw new Error('Token ### is reserved. Use it for indicating templates only');\n      }\n      if (token === delimiter) {\n        throw new Error('Token ' + delimiter + ' is reserved. Use it as delimiter only');\n      }\n      var content = line.substr(line.indexOf(delimiter)+1).trim();\n      if (!(token in tokenized)) {\n        tokenized[token] = [];\n      }\n      tokenized[token].push(content);\n    });\n  \n    return tokenized;\n}\n\nexport function compile(content, template) {\n    if (!template.head) return '';\n  \n    var identifier = '###';\n    var delimiter = '\\n';\n    var sections = content.split(identifier).map((section) => section.trim());\n    \n    var rendered = template.head({\n      css_link: [process.env.PUBLIC_URL + '/templates/DevResume/DevResume.css']\n    });\n    // console.log(rendered)\n    rendered += '<div class=content-wrapper>';\n  \n    sections.forEach((section) => {\n      var sectionName = section.substr(0, section.indexOf(delimiter));\n      if (sectionName === '') return;\n  \n      var content = section.substr(section.indexOf(delimiter)+1).trim();\n      content = parse(content, '\\n.', ' ');\n  \n      if (sectionName in template) rendered += template[sectionName](content);\n    });\n    \n    // console.log(rendered)\n    rendered += '</div>';\n    \n    // console.log(rendered)\n    return rendered;\n  }\n\nexport async function initTemplate(config, dir) {\n    var template = [];\n    for (var section in config.sections) {\n        var content = await (await fetch(dir + config.name + '/' + config.sections[section])).text();\n        template[section] = Handlebars.compile(content);\n    }\n\n    return template;\n}","\nimport React from 'react';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport templatesConfig from './config/templates.json';\nimport { initTemplate, compile } from './resumark';\n\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/theme-github\";\n\nclass App extends React.Component {\n  state = {\n    content: \"\",\n    template: \"\"\n  }\n\n  componentDidMount = async () => {\n    const config = templatesConfig.DevResume;\n    const dir = process.env.PUBLIC_URL + '/templates/';\n   \n    let resp = await fetch(dir + config.name + '/default.rmk');\n    let content = await resp.text();\n    let template = await initTemplate(config, dir);\n\n    this.setState({\n      content: content,\n      template: template\n    })\n  }\n\n  setContent = (content) => {\n    console.log(content)\n    this.setState({\n      content: content\n    })\n  }\n\n  render = () => {\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"d-flex\" style={{height: \"100vh\"}}>\n          <div className=\"flex-fill\">\n            <AceEditor\n              theme=\"github\"\n              className=\"h-100 w-100\"\n              onChange={this.setContent}\n              value={this.state.content}\n              editorProps={{ $blockScrolling: true }}\n              fontSize={16}\n              showPrintMargin={false}\n              highlightActiveLine={true}\n              wrapEnabled={true}\n              setOptions={{\n                showLineNumbers: true,\n                tabSize: 2,\n              }}\n            ></AceEditor>\n          </div>\n          <iframe className=\"h-100\" style={{width: '8.5in'}} frameBorder={0} srcDoc={compile(this.state.content, this.state.template)} title=\"preview\"></iframe>\n        </div>\n      </div>  \n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}